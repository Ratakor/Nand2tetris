from Mot import *

# Vérification partielles des opérateurs de mots

# Triplettes décrivant chaque opération sur quelques exemples

# Remarque: comme les fonctions de Mot ne dépendent pas de la longueur du mot,
# les exemples sont sur 8 binons seulement.

NOM = 0
FONCTION = 1
OPÉRANDES = 2

OPS= (("NOT16",not16,
                       ((((0,0,0,0,0,0,0,0),), (1,1,1,1,1,1,1,1)),
                        (((1,1,1,1,1,1,1,1),), (0,0,0,0,0,0,0,0)),
                        (((0,0,1,1,1,0,0,1),), (1,1,0,0,0,1,1,0)))),
      ("AND16",and16,
                       ((((0,0,0,0,0,0,0,0),(1,0,0,1,1,1,0,1)), (0,0,0,0,0,0,0,0)),
                        (((1,1,1,1,1,1,1,1),(0,0,1,0,0,1,0,0)), (0,0,1,0,0,1,0,0)),
                        (((0,0,1,1,1,0,0,1),(1,1,1,0,0,0,1,0)), (0,0,1,0,0,0,0,0)))),
      ("OR16",or16,
                       ((((0,0,0,0,0,0,0,0),(1,0,0,1,1,1,0,1)), (1,0,0,1,1,1,0,1)),
                        (((1,1,1,1,1,1,1,1),(0,0,1,0,0,1,0,0)), (1,1,1,1,1,1,1,1)),
                        (((0,0,1,1,1,0,0,1),(1,1,1,0,0,0,1,0)), (1,1,1,1,1,0,1,1)))),
      ("OR16WAY",or16way,
                       ((((0,0,0,0,0,0,0,0),), 0),
                        (((1,1,1,1,1,1,1,1),), 1),
                        (((0,0,1,1,1,0,0,1),), 1))),
      ("MUX16",mux16,
                       (((1,(0,0,0,0,0,0,0,0),(1,0,0,1,1,1,0,1)), (1,0,0,1,1,1,0,1)),
                        ((0,(1,1,1,1,1,1,1,1),(0,0,1,0,0,1,0,0)), (1,1,1,1,1,1,1,1)),
                        ((1,(0,0,1,1,1,0,0,1),(1,1,1,0,0,0,1,0)), (1,1,1,0,0,0,1,0)))),
      ("MUX4WAY16",mux4way16,
                       ((((1,0),(0,0,0,0,0,0,0,0),(1,0,0,1,1,1,0,1),(0,0,0,1,1,0,0,0),(1,0,0,1,0,1,0,1)), (1,0,0,1,1,1,0,1)),
                        (((0,1),(1,1,1,0,1,1,1,1),(0,0,1,0,0,1,0,0),(1,1,1,1,1,1,1,1),(0,0,1,0,0,0,0,0)), (1,1,1,1,1,1,1,1)),
                        (((1,1),(0,0,1,1,1,0,0,1),(1,1,1,0,0,0,1,1),(1,0,1,1,1,0,0,1),(1,1,1,0,0,0,1,0)), (1,1,1,0,0,0,1,0)))),
      ("MUX8WAY16",mux8way16,
                       ((((1,0,1),(0,0,0,0,0,0,0,0),(1,0,0,1,1,1,0,1),(0,0,0,1,1,0,0,0),(1,0,0,1,0,1,0,1),(0,0,0,0,0,1,0,0),(1,0,0,1,1,0,0,1),(1,0,0,1,1,0,0,0),(1,0,0,1,0,1,1,1)), (1,0,0,1,1,0,0,1)),
                        (((0,1,0),(1,1,1,0,1,1,1,1),(0,0,1,0,0,1,0,0),(1,1,1,1,1,1,1,1),(0,0,1,0,0,0,0,0),(1,1,1,0,0,1,1,1),(0,0,1,1,0,1,0,0),(1,1,1,1,0,1,1,1),(0,0,1,0,0,0,0,1)), (1,1,1,1,1,1,1,1)),
                        (((0,1,1),(0,0,1,1,1,0,0,1),(1,1,1,0,0,0,1,1),(1,0,1,1,1,0,0,1),(1,1,1,0,0,0,1,0),(0,0,1,1,1,1,0,1),(1,1,1,0,1,0,1,1),(1,0,1,1,1,1,0,1),(1,1,1,1,0,0,1,0)), (1,0,1,1,1,1,0,1)))),
      ("ADD16",add16,
                       ((((0,0,0,0,0,0,0,0),(1,0,0,1,1,1,0,1)), (1,0,0,1,1,1,0,1)),
                        (((1,1,1,1,1,1,1,1),(0,0,1,0,0,1,0,0)), (1,1,0,0,0,1,0,0)),
                        (((0,0,1,1,1,0,0,1),(1,1,1,0,0,0,1,0)), (1,1,0,0,0,1,1,1)))),
      ("INC16",inc16,
                       ((((0,0,0,0,0,0,0,0),), (1,0,0,0,0,0,0,0)),
                        (((1,1,1,1,1,1,1,1),), (0,0,0,0,0,0,0,0)),
                        (((0,0,1,1,1,0,0,1),), (1,0,1,1,1,0,0,1)))))

for op in OPS:
    print(op[NOM])
    for opérandes,résultat in op[OPÉRANDES]:
        r = op[FONCTION](*opérandes)
        #print(opérandes, résultat, r)
        assert r == résultat
